{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/kobby/Desktop/spartahacks/frontend/lib/store.ts"],"sourcesContent":["// Shared in-memory store for MVP demo\n// In production, this would be replaced with database calls\n\nexport interface CallEvent {\n  callId: string;\n  caller: string;\n  verdict: \"SCAM\" | \"SAFE\" | \"UNCERTAIN\";\n  status: string;\n  transcript: string;\n  analysis: {\n    label?: string;\n    confidence?: number;\n    reasons?: string[];\n  };\n  timestamp: string;\n  blocked?: boolean;\n}\n\nclass Store {\n  private static instance: Store;\n  private callEvents: CallEvent[] = [];\n  private blocklist: Set<string> = new Set();\n  private readonly MAX_EVENTS = 100;\n\n  private constructor() {\n    // Seed with demo data\n    this.callEvents.push({\n      callId: \"demo-1\",\n      caller: \"+15551234567\",\n      verdict: \"SCAM\",\n      status: \"completed\",\n      transcript: \"Hello, I am calling from the IRS. You owe back taxes and will be arrested if you do not pay immediately with gift cards.\",\n      analysis: {\n        label: \"SCAM\",\n        confidence: 0.95,\n        reasons: [\"Claimed to be IRS\", \"Demanded immediate payment\", \"Asked for gift cards\"],\n      },\n      timestamp: new Date().toISOString(),\n      blocked: false,\n    });\n  }\n\n  public static getInstance(): Store {\n    if (!Store.instance) {\n      Store.instance = new Store();\n    }\n    return Store.instance;\n  }\n\n  // Call Events\n  addEvent(event: Omit<CallEvent, \"blocked\">): CallEvent {\n    const fullEvent: CallEvent = {\n      ...event,\n      blocked: this.blocklist.has(event.caller),\n    };\n    this.callEvents.unshift(fullEvent);\n    if (this.callEvents.length > this.MAX_EVENTS) {\n      this.callEvents.pop();\n    }\n    return fullEvent;\n  }\n\n  getEvents(limit: number = 50): CallEvent[] {\n    return this.callEvents.slice(0, limit).map((e) => ({\n      ...e,\n      blocked: this.blocklist.has(e.caller),\n    }));\n  }\n\n  // Blocklist\n  blockNumber(number: string): void {\n    this.blocklist.add(number);\n  }\n\n  unblockNumber(number: string): void {\n    this.blocklist.delete(number);\n  }\n\n  isBlocked(number: string): boolean {\n    return this.blocklist.has(number);\n  }\n\n  getBlocklist(): string[] {\n    return Array.from(this.blocklist);\n  }\n}\n\nexport const store = Store.getInstance();\n"],"names":[],"mappings":"AAAA,sCAAsC;AACtC,4DAA4D;;;;;AAiB5D,MAAM;IACJ,OAAe,SAAgB;IACvB,aAA0B,EAAE,CAAC;IAC7B,YAAyB,IAAI,MAAM;IAC1B,aAAa,IAAI;IAElC,aAAsB;QACpB,sBAAsB;QACtB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;YACnB,QAAQ;YACR,QAAQ;YACR,SAAS;YACT,QAAQ;YACR,YAAY;YACZ,UAAU;gBACR,OAAO;gBACP,YAAY;gBACZ,SAAS;oBAAC;oBAAqB;oBAA8B;iBAAuB;YACtF;YACA,WAAW,IAAI,OAAO,WAAW;YACjC,SAAS;QACX;IACF;IAEA,OAAc,cAAqB;QACjC,IAAI,CAAC,MAAM,QAAQ,EAAE;YACnB,MAAM,QAAQ,GAAG,IAAI;QACvB;QACA,OAAO,MAAM,QAAQ;IACvB;IAEA,cAAc;IACd,SAAS,KAAiC,EAAa;QACrD,MAAM,YAAuB;YAC3B,GAAG,KAAK;YACR,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,MAAM;QAC1C;QACA,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;QACxB,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,EAAE;YAC5C,IAAI,CAAC,UAAU,CAAC,GAAG;QACrB;QACA,OAAO;IACT;IAEA,UAAU,QAAgB,EAAE,EAAe;QACzC,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,GAAG,OAAO,GAAG,CAAC,CAAC,IAAM,CAAC;gBACjD,GAAG,CAAC;gBACJ,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,MAAM;YACtC,CAAC;IACH;IAEA,YAAY;IACZ,YAAY,MAAc,EAAQ;QAChC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;IACrB;IAEA,cAAc,MAAc,EAAQ;QAClC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;IACxB;IAEA,UAAU,MAAc,EAAW;QACjC,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;IAC5B;IAEA,eAAyB;QACvB,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS;IAClC;AACF;AAEO,MAAM,QAAQ,MAAM,WAAW"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/kobby/Desktop/spartahacks/frontend/app/api/blocklist/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { store } from \"@/lib/store\";\n\n// GET - retrieve blocklist\nexport async function GET() {\n  return NextResponse.json({\n    ok: true,\n    numbers: store.getBlocklist(),\n  });\n}\n\n// POST - add number to blocklist\nexport async function POST(req: NextRequest) {\n  try {\n    const { number } = await req.json();\n\n    if (!number) {\n      return NextResponse.json({ ok: false, error: \"number required\" }, { status: 400 });\n    }\n\n    store.blockNumber(number);\n    console.log(`[Blocklist] Added: ${number}`);\n\n    return NextResponse.json({ ok: true, number, action: \"blocked\" });\n  } catch (err: any) {\n    return NextResponse.json({ ok: false, error: err.message }, { status: 500 });\n  }\n}\n\n// DELETE - remove number from blocklist\nexport async function DELETE(req: NextRequest) {\n  try {\n    const { number } = await req.json();\n\n    if (!number) {\n      return NextResponse.json({ ok: false, error: \"number required\" }, { status: 400 });\n    }\n\n    store.unblockNumber(number);\n    console.log(`[Blocklist] Removed: ${number}`);\n\n    return NextResponse.json({ ok: true, number, action: \"unblocked\" });\n  } catch (err: any) {\n    return NextResponse.json({ ok: false, error: err.message }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAGO,eAAe;IACpB,OAAO,4JAAY,CAAC,IAAI,CAAC;QACvB,IAAI;QACJ,SAAS,mIAAK,CAAC,YAAY;IAC7B;AACF;AAGO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,IAAI;QAEjC,IAAI,CAAC,QAAQ;YACX,OAAO,4JAAY,CAAC,IAAI,CAAC;gBAAE,IAAI;gBAAO,OAAO;YAAkB,GAAG;gBAAE,QAAQ;YAAI;QAClF;QAEA,mIAAK,CAAC,WAAW,CAAC;QAClB,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,QAAQ;QAE1C,OAAO,4JAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM;YAAQ,QAAQ;QAAU;IACjE,EAAE,OAAO,KAAU;QACjB,OAAO,4JAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,OAAO,IAAI,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF;AAGO,eAAe,OAAO,GAAgB;IAC3C,IAAI;QACF,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,IAAI;QAEjC,IAAI,CAAC,QAAQ;YACX,OAAO,4JAAY,CAAC,IAAI,CAAC;gBAAE,IAAI;gBAAO,OAAO;YAAkB,GAAG;gBAAE,QAAQ;YAAI;QAClF;QAEA,mIAAK,CAAC,aAAa,CAAC;QACpB,QAAQ,GAAG,CAAC,CAAC,qBAAqB,EAAE,QAAQ;QAE5C,OAAO,4JAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAM;YAAQ,QAAQ;QAAY;IACnE,EAAE,OAAO,KAAU;QACjB,OAAO,4JAAY,CAAC,IAAI,CAAC;YAAE,IAAI;YAAO,OAAO,IAAI,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF"}}]
}